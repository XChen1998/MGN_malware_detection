  %1 = alloca i8*, align 8
  %2 = alloca i32, align 4
  %status = alloca i32, align 4
  store i8* %dir, i8** %1, align 8
  store i32 %mode, i32* %2, align 4
  %3 = call i32 (...) @fork()
  %6 = icmp ne i32 %4, 0
