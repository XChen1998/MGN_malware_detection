  %1 = alloca i8*, align 8
  %last = alloca i32, align 4
  store i8* %path, i8** %1, align 8
  %2 = load i8*, i8** %1, align 8
  %3 = call i64 @strlen(i8* %2)
  %6 = sub i64 %4, 1
  %7 = trunc i64 %6 to i32
  store i32 %7, i32* %last, align 4
