  call void @__assert_fail(i8* getelementptr inbounds ([60 x i8], [60 x i8]* @.str.2, i32 0, i32 0), i8* getelementptr inbounds ([63 x i8], [63 x i8]* @.str.1, i32 0, i32 0), i32 258, i8* getelementptr inbounds ([49 x i8], [49 x i8]* @__PRETTY_FUNCTION__.ssh_stream_filter_try_read, i32 0, i32 0)) #5
  unreachable
  store i32 1024, i32* %len, align 4
  %67 = load i32, i32* %len, align 4
  %68 = icmp eq i32 %67, 0
  %127 = phi i64 [ %108, %103 ], [ %94, %91 ], [ %73, %70 ]
  %128 = phi i64 [ %112, %103 ], [ %98, %91 ], [ %77, %70 ]
  %129 = icmp ule i64 %127, %128
  %138 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %139 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %138, i32 0, i32 2
  %140 = load i32 (%struct.SshBuffer*, i64, i32, i8*)*, i32 (%struct.SshBuffer*, i64, i32, i8*)** %139, align 8
  %141 = icmp ne i32 (%struct.SshBuffer*, i64, i32, i8*)* %140, null
  %72 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %sf, align 8
  %73 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %72, i32 0, i32 10
  %74 = load i32, i32* %73, align 8
  %75 = icmp ne i32 %74, 0
  store i32 0, i32* %1, align 4
  %56 = phi i64 [ %112, %104 ], [ %50, %47 ]
  %57 = phi i64 [ %115, %104 ], [ %54, %47 ]
  %58 = sub i64 %56, %57
  %59 = trunc i64 %58 to i32
  store i32 %59, i32* %len, align 4
  %60 = load i32, i32* %len, align 4
  %61 = sext i32 %60 to i64
  %62 = icmp ugt i64 %61, 1024
  %144 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %145 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %144, i32 0, i32 2
  %146 = load i32 (%struct.SshBuffer*, i64, i32, i8*)*, i32 (%struct.SshBuffer*, i64, i32, i8*)** %145, align 8
  %147 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %148 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %147, i32 0, i32 5
  %149 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %150 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %149, i32 0, i32 8
  %151 = load i64, i64* %150, align 8
  %152 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %153 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %152, i32 0, i32 10
  %154 = load i32, i32* %153, align 8
  %155 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %156 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %155, i32 0, i32 4
  %157 = load i8*, i8** %156, align 8
  %158 = call i32 %146(%struct.SshBuffer* %148, i64 %151, i32 %154, i8* %157)
  %1 = alloca i32, align 4
  %2 = alloca i8*, align 8
  %3 = alloca i8*, align 8
  %4 = alloca i64, align 8
  %sf = alloca %struct.SshStreamFilterRec*, align 8
  %len = alloca i64, align 8
  store i8* %context, i8** %2, align 8
  store i8* %buf, i8** %3, align 8
  store i64 %size, i64* %4, align 8
  %5 = load i8*, i8** %2, align 8
  %6 = bitcast i8* %5 to %struct.SshStreamFilterRec*
  store %struct.SshStreamFilterRec* %6, %struct.SshStreamFilterRec** %sf, align 8
  %7 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %sf, align 8
  %8 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %7, i32 0, i32 12
  %9 = load i32, i32* %8, align 8
  %10 = icmp ne i32 %9, 0
  store i32 0, i32* %1, align 4
  %68 = load i64, i64* %len, align 8
  %69 = trunc i64 %68 to i32
  store i32 %69, i32* %1, align 4
  store i32 %159, i32* %op, align 4
  %168 = load %struct.SshStreamFilterRec*, %struct.SshStreamFilterRec** %1, align 8
  %169 = getelementptr inbounds %struct.SshStreamFilterRec, %struct.SshStreamFilterRec* %168, i32 0, i32 8
  %170 = load i64, i64* %169, align 8
  %171 = sub i64 %166, %170
  %172 = trunc i64 %171 to i32
  store i32 %172, i32* %op, align 4
