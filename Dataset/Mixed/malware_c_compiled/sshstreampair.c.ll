  %70 = load i64, i64* %offset, align 8
  %71 = icmp ult i64 %70, 16384
  %1 = alloca i32, align 4
  %2 = alloca i8*, align 8
  %3 = alloca i8*, align 8
  %4 = alloca i64, align 8
  %me = alloca %struct.SshStreamHalfRec*, align 8
  %len = alloca i64, align 8
  %bytes = alloca i64, align 8
  %offset = alloca i64, align 8
  store i8* %context, i8** %2, align 8
  store i8* %buf, i8** %3, align 8
  store i64 %size, i64* %4, align 8
  %5 = load i8*, i8** %2, align 8
  %6 = bitcast i8* %5 to %struct.SshStreamHalfRec*
  store %struct.SshStreamHalfRec* %6, %struct.SshStreamHalfRec** %me, align 8
  %7 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %8 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %7, i32 0, i32 9
  %9 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %8, align 8
  %10 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %9, i32 0, i32 3
  %11 = load i32, i32* %10, align 8
  %12 = icmp ne i32 %11, 0
  store i32 0, i32* %1, align 4
  %51 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %52 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %51, i32 0, i32 9
  %53 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %52, align 8
  %54 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %53, i32 0, i32 1
  %55 = load i64, i64* %54, align 8
  %56 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %57 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %56, i32 0, i32 9
  %58 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %57, align 8
  %59 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %58, i32 0, i32 2
  %60 = load i64, i64* %59, align 8
  %61 = add i64 %55, %60
  store i64 %61, i64* %offset, align 8
  %62 = load i64, i64* %offset, align 8
  %63 = icmp uge i64 %62, 16384
  %66 = load i64, i64* %offset, align 8
  %67 = sub i64 %66, 16384
  store i64 %67, i64* %offset, align 8
  call void @__assert_fail(i8* getelementptr inbounds ([32 x i8], [32 x i8]* @.str.2, i32 0, i32 0), i8* getelementptr inbounds ([61 x i8], [61 x i8]* @.str.1, i32 0, i32 0), i32 189, i8* getelementptr inbounds ([65 x i8], [65 x i8]* @__PRETTY_FUNCTION__.ssh_stream_pair_write, i32 0, i32 0)) #5
  unreachable
  %76 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %77 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %76, i32 0, i32 1
  store i64 0, i64* %77, align 8
  %80 = load i64, i64* %len, align 8
  %81 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %82 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %81, i32 0, i32 2
  %83 = load i64, i64* %82, align 8
  %84 = sub i64 %83, %80
  store i64 %84, i64* %82, align 8
  %85 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %86 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %85, i32 0, i32 1
  %87 = load i64, i64* %86, align 8
  %88 = icmp ule i64 %87, 16384
  %1 = alloca i8*, align 8
  %me = alloca %struct.SshStreamHalfRec*, align 8
  store i8* %context, i8** %1, align 8
  %2 = load i8*, i8** %1, align 8
  %3 = bitcast i8* %2 to %struct.SshStreamHalfRec*
  store %struct.SshStreamHalfRec* %3, %struct.SshStreamHalfRec** %me, align 8
  %4 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %5 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %4, i32 0, i32 7
  %6 = load void (i32, i8*)*, void (i32, i8*)** %5, align 8
  %7 = icmp ne void (i32, i8*)* %6, null
  %10 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %11 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %10, i32 0, i32 7
  %12 = load void (i32, i8*)*, void (i32, i8*)** %11, align 8
  %13 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %14 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %13, i32 0, i32 8
  %15 = load i8*, i8** %14, align 8
  call void %12(i32 1, i8* %15)
  %65 = load i64, i64* %len, align 8
  %66 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %67 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %66, i32 0, i32 1
  %68 = load i64, i64* %67, align 8
  %69 = add i64 %68, %65
  store i64 %69, i64* %67, align 8
  %70 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %71 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %70, i32 0, i32 1
  %72 = load i64, i64* %71, align 8
  %73 = icmp eq i64 %72, 16384
  %80 = load i64, i64* %4, align 8
  %81 = load i64, i64* %bytes, align 8
  %82 = sub i64 %80, %81
  store i64 %82, i64* %len, align 8
  %83 = load i64, i64* %len, align 8
  %84 = load i64, i64* %offset, align 8
  %85 = sub i64 16384, %84
  %86 = icmp ugt i64 %83, %85
  %93 = load i64, i64* %len, align 8
  %94 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %me, align 8
  %95 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %94, i32 0, i32 9
  %96 = load %struct.SshStreamHalfRec*, %struct.SshStreamHalfRec** %95, align 8
  %97 = getelementptr inbounds %struct.SshStreamHalfRec, %struct.SshStreamHalfRec* %96, i32 0, i32 2
  %98 = load i64, i64* %97, align 8
  %99 = sub i64 16384, %98
  %100 = icmp ugt i64 %93, %99
