step 1) compile object file with position independent code flag
gcc -o hello.o -c -fPIC

step 2) create .so file
gcc -o libhello.so -shared hello.o

or in 1 step
gcc -shared -o libhello.sh -fPIC hello.c
