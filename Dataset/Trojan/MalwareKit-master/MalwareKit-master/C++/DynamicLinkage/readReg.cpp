#include <windows.h>
#include <stdio.h>

int main(int argc, char *argv){
  char lszValue[255];
  HKEY hKey;
  LONG returnStatus;
  DWORD dwType = REG_SZ;
  DWORD dwSize = 255;
  returnStatus = RegOpenKeyEx(HKEY_LOCAL_MACHINE,
    "SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion",
    NULL,  KEY_ALL_ACCESS, &hKey);
  if(returnStatus == ERROR_SUCCESS){
    returnStatus = RegQueryValueEx(hKey, TEXT("SystemRoot"),
    NULL, &dwType,(LPBYTE)&lszValue, &dwSize);
  }
}
