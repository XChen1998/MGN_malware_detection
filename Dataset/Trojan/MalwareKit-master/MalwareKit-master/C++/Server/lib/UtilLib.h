#include <string>
#include <vector>
#include "DataCollector.h"

using namespace std;

//converts string to a w-string
wstring s2ws(string inString);

// depreciated
// converts a string to a dynamically allocated char*
// MEMORY MUST BE FREED AFTER USE
// void stringToCharArray(string data, char** array);

//queue any requests that were not successful
void queueRequest(vector<vector<string>> &requestQueue, string api, string query);

//get size of a vector
int getSize(vector<string> keys);

//get size of a vector<vector>
int getSize(vector<vector<string>> keys);

//adds a key value pair to the lists
void insertOrUpdate(vector<string> &keys, vector<string> &values, string key, string value);

//empy key value lists after request has been sent
void dumpData(vector<string> &keys, vector<string> &values);

//build get/post query string
string convertArgsToStr(vector<string> keys, vector<string> values, int size, bool getRequest);

//builds the query string based off of
string getArgsToString(vector<string> keys, vector<string> values, int length, vector<string> params, int paramLength, char* verb);

bool isInTimeArray(int time, const int timeArray[], int arrayLen);

bool waitForTime(const int timeArray[], int arrayLen, const int count);

bool waitForPeriod(int wait);

bool fileExists(string file);

string getTimestamp();

void copyFile(string file1, string file2);

// reads and returns 10,000 characters from the specified file
void readDataFromFile(string path, string filename, char* output, int len);

string base64_encode(unsigned char const* bytes_to_encode, unsigned int in_len);

string base64_decode(string const& encoded_string);

int nStrFind(char* str, string searchTerm, int strLen);

char* getMAC();

void sendFile(string url, int port, string api, DataCollector* dac, string path);

bool notDone(int currentCount, int limit);
